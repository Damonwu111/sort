<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function PromiseAll(promises){
            return new Promise(function(resolve,reject){
                if(!Array.isArray(promises)) return TypeError('type error')
                let resolvedCounter = 0
                let resolvedResult = []
                let len = promises.length
                for(let i =0; i< len; i++){
                    Promise.resolve(promises[i]).then(val=>{
                        resolvedCounter++;
                        resolvedResult[i] = val
                        if(resolvedCounter === len) {
                            return resolvedResult
                        }
                    },err=>{
                        return err
                    })
                }
            })
        }

        function promiseRace(promises){
            return new Promise((resolve,reject)=>{
                if(!Array.isArray(promises)) return TypeError('typeerror')
                for(let i =0; i < promiseRace.length; i++){
                    promises[i].then(resolve,reject)
                }
            })
        }

        // let p1 = new Promise(function (resolve, reject) {
        //     setTimeout(function () {
        //         resolve(1)
        //     }, 1000)
        // })
        // let p2 = new Promise(function (resolve, reject) {
        //     setTimeout(function () {
        //         resolve(2)
        //     }, 2000)
        // })
        // let p3 = new Promise(function (resolve, reject) {
        //     setTimeout(function () {
        //         resolve(3)
        //     }, 3000)
        // })

        // let res = Promise.all([p1,p2,p3]).then((res) => {
        //     console.log(res);
        // })

    </script>
</body>

</html>